<svg id="mermaid-1765844249542" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="max-width: 842.4921875px;" viewBox="-8 -8 842.4921875 746.34375" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-1765844249542{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1765844249542 .error-icon{fill:#552222;}#mermaid-1765844249542 .error-text{fill:#552222;stroke:#552222;}#mermaid-1765844249542 .edge-thickness-normal{stroke-width:2px;}#mermaid-1765844249542 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1765844249542 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1765844249542 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1765844249542 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1765844249542 .marker{fill:#333333;stroke:#333333;}#mermaid-1765844249542 .marker.cross{stroke:#333333;}#mermaid-1765844249542 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1765844249542 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1765844249542 .cluster-label text{fill:#333;}#mermaid-1765844249542 .cluster-label span,#mermaid-1765844249542 p{color:#333;}#mermaid-1765844249542 .label text,#mermaid-1765844249542 span,#mermaid-1765844249542 p{fill:#333;color:#333;}#mermaid-1765844249542 .node rect,#mermaid-1765844249542 .node circle,#mermaid-1765844249542 .node ellipse,#mermaid-1765844249542 .node polygon,#mermaid-1765844249542 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1765844249542 .flowchart-label text{text-anchor:middle;}#mermaid-1765844249542 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1765844249542 .node .label{text-align:center;}#mermaid-1765844249542 .node.clickable{cursor:pointer;}#mermaid-1765844249542 .arrowheadPath{fill:#333333;}#mermaid-1765844249542 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1765844249542 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1765844249542 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1765844249542 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1765844249542 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-1765844249542 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1765844249542 .cluster text{fill:#333;}#mermaid-1765844249542 .cluster span,#mermaid-1765844249542 p{color:#333;}#mermaid-1765844249542 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1765844249542 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1765844249542 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="mermaid-1765844249542_flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="6" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1765844249542_flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1765844249542_flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1765844249542_flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1765844249542_flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1765844249542_flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster default flowchart-label" id="response"><rect style="" rx="0" ry="0" x="10.315109252929688" y="627.34375" width="318.75" height="103"></rect><g class="cluster-label" transform="translate(117.76042175292969, 627.34375)"><foreignObject width="103.859375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">FINAL OUTPUT</span></div></foreignObject></g></g><g class="cluster default flowchart-label" id="function"><rect style="" rx="0" ry="0" x="343.87110137939453" y="0" width="482.62110137939453" height="256"></rect><g class="cluster-label" transform="translate(505.7597770690918, 0)"><foreignObject width="158.84375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">FUNCTION EXECUTION</span></div></foreignObject></g></g><g class="cluster default flowchart-label" id="conversation"><rect style="" rx="0" ry="0" x="21.018234252929688" y="153" width="297.34375" height="405.34375"></rect><g class="cluster-label" transform="translate(93.90885925292969, 153)"><foreignObject width="151.5625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CONVERSATION LOOP</span></div></foreignObject></g></g><g class="cluster default flowchart-label" id="init"><rect style="" rx="0" ry="0" x="0" y="0" width="319.3802185058594" height="103"></rect><g class="cluster-label" transform="translate(106.54948425292969, 0)"><foreignObject width="106.28125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">INITIALIZATION</span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M160.19,231.5L160.107,235.583C160.023,239.667,159.857,247.833,159.773,256.083C159.69,264.333,159.69,272.667,160.09,281.478C160.49,290.288,161.29,299.577,161.69,304.221L162.09,308.865" id="L-U-A-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-A" style="fill:none;" marker-end="url(#mermaid-1765844249542_flowchart-pointEnd)"></path><path d="M557.423,78L548.677,82.167C539.931,86.333,522.439,94.667,513.693,103C504.947,111.333,504.947,119.667,504.947,128C504.947,136.333,504.947,144.667,505.013,152.2C505.079,159.734,505.211,166.467,505.277,169.834L505.343,173.201" id="L-F-R-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-R" style="fill:none;" marker-end="url(#mermaid-1765844249542_flowchart-pointEnd)"></path><path d="M160.19,78.5L160.107,82.583C160.023,86.667,159.857,94.833,159.773,103.083C159.69,111.333,159.69,119.667,159.69,128C159.69,136.333,159.69,144.667,159.756,152.2C159.822,159.734,159.954,166.467,160.02,169.834L160.086,173.201" id="L-S-U-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-S LE-U" style="fill:none;" marker-end="url(#mermaid-1765844249542_flowchart-pointEnd)"></path><path d="M209.86,346.169L215.554,335.308C221.248,324.446,232.637,302.723,316.355,287.695C400.073,272.667,556.121,264.333,634.144,251.583C712.168,238.833,712.168,221.667,712.168,204.5C712.168,187.333,712.168,170.167,712.168,157.417C712.168,144.667,712.168,136.333,712.168,128C712.168,119.667,712.168,111.333,704.932,103.407C697.697,95.481,683.226,87.962,675.99,84.203L668.755,80.444" id="L-A-F-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-F" style="fill:none;" marker-end="url(#mermaid-1765844249542_flowchart-pointEnd)"></path><path d="M505.447,231.5L505.363,235.583C505.28,239.667,505.113,247.833,450.821,256.083C396.528,264.333,288.109,272.667,233.64,281.476C179.171,290.285,178.651,299.569,178.392,304.212L178.132,308.854" id="L-R-A-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-A" style="fill:none;" marker-end="url(#mermaid-1765844249542_flowchart-pointEnd)"></path><path d="M170.19,533.844L170.107,537.927C170.023,542.01,169.857,550.177,169.773,560.01C169.69,569.844,169.69,581.344,169.69,592.844C169.69,604.344,169.69,615.844,169.69,624.877C169.69,633.91,169.69,640.477,169.69,643.76L169.69,647.044" id="L-A-FINAL-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-FINAL" style="fill:none;" marker-end="url(#mermaid-1765844249542_flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(712.1679840087891, 204.5)"><g class="label" transform="translate(-46.859375, -9.5)"><foreignObject width="93.71875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">function_call</span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(169.6901092529297, 592.84375)"><g class="label" transform="translate(-48.5625, -9.5)"><foreignObject width="97.125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">text response</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default default flowchart-label" id="flowchart-FINAL-9" data-node="true" data-id="FINAL" transform="translate(169.6901092529297, 678.84375)"><rect class="basic label-container" style="fill:#e8f5e9;stroke:#2e7d32;" rx="0" ry="0" x="-124.375" y="-26.5" width="248.75" height="53"></rect><g class="label" style="" transform="translate(-116.875, -19)"><rect></rect><foreignObject width="233.75" height="38"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">ASSISTANT RESPONSE<br>(uses function result to respond)</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-F-5" data-node="true" data-id="F" transform="translate(613.0481872558594, 51.5)"><rect class="basic label-container" style="fill:#e8f5e9;stroke:#2e7d32;" rx="0" ry="0" x="-126.7890625" y="-26.5" width="253.578125" height="53"></rect><g class="label" style="" transform="translate(-119.2890625, -19)"><rect></rect><foreignObject width="238.578125" height="38"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">YOUR CODE RUNS<br>(execute the requested function)</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-R-6" data-node="true" data-id="R" transform="translate(504.9466247558594, 204.5)"><polygon points="-17.666666666666668,0 206.55729166666666,0 233.05729166666666,-53 8.833333333333334,-53" class="label-container" transform="translate(-107.6953125,26.5)" style="fill:#e8f5e9;stroke:#2e7d32;"></polygon><g class="label" style="" transform="translate(-100.1953125, -19)"><rect></rect><foreignObject width="200.390625" height="38"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">FUNCTION RESULT<br>(JSON response back to API)</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-U-1" data-node="true" data-id="U" transform="translate(159.6901092529297, 204.5)"><polygon points="-17.666666666666668,0 108.32291666666667,0 134.82291666666666,-53 8.833333333333334,-53" class="label-container" transform="translate(-58.578125,26.5)" style="fill:#fff3e0;stroke:#e65100;"></polygon><g class="label" style="" transform="translate(-51.078125, -19)"><rect></rect><foreignObject width="102.15625" height="38"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">USER PROMPT<br>(your request)</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-A-2" data-node="true" data-id="A" transform="translate(169.6901092529297, 419.671875)"><polygon points="113.671875,0 227.34375,-113.671875 113.671875,-227.34375 0,-113.671875" class="label-container" transform="translate(-113.671875,113.671875)" style="fill:#f3e5f5;stroke:#7b1fa2;"></polygon><g class="label" style="" transform="translate(-79.671875, -19)"><rect></rect><foreignObject width="159.34375" height="38"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">ASSISTANT<br>(text or function_call)</span></div></foreignObject></g></g><g class="node default default flowchart-label" id="flowchart-S-0" data-node="true" data-id="S" transform="translate(159.6901092529297, 51.5)"><polygon points="-17.666666666666668,0 205.21354166666666,0 231.71354166666666,-53 8.833333333333334,-53" class="label-container" transform="translate(-107.0234375,26.5)" style="fill:#e1f5fe;stroke:#01579b;"></polygon><g class="label" style="" transform="translate(-99.5234375, -19)"><rect></rect><foreignObject width="199.046875" height="38"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">SYSTEM MESSAGE<br>(tone, constraints, context)</span></div></foreignObject></g></g></g></g></g></svg>